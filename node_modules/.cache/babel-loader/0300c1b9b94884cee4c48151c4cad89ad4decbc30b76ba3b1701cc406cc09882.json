{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"./CarencyCalculator.css\";\nimport MainComponent from \"../../components/Main/Main.vue\";\nexport default {\n  name: \"CurrencyCalculator\",\n  components: {\n    MainComponent\n  },\n  data() {\n    return {\n      currency: {\n        gel: {\n          \"name\": \"GEL\"\n        },\n        usd: {\n          \"name\": \"CHF\",\n          \"price\": 20\n        },\n        eur: {\n          \"name\": \"EUR\",\n          \"price\": 10\n        }\n      },\n      currencyDatas: null,\n      fromName: \"USD\",\n      toName: \"GEL\",\n      fromAmount: \"\",\n      toAmount: \"\",\n      showData: false,\n      countryDatas: null,\n      test: \"\",\n      currencies: null,\n      countryFlag: null // Corrected spelling\n    };\n  },\n\n  methods: {\n    currencyData() {\n      fetch(`https://api.fastforex.io/fetch-one?from=${this.fromName}&to=${this.toName}&api_key=67c030db8d-4cf9a781a1-rv2gbf`).then(res => res.json()).then(data => {\n        this.currencyDatas = data;\n        this.toAmount = Object.values(data.result)[0];\n        this.toAmount = this.fromAmount * this.toAmount;\n      });\n    },\n    countryData() {\n      fetch(\"https://restcountries.com/v3.1/all\").then(res => res.json()).then(data => {\n        this.countryDatas = data;\n        var array = [];\n        for (let key in this.countryDatas) {\n          const country = this.countryDatas[key];\n          array.push(country.currencies);\n        }\n        this.test = array;\n        var x = [];\n        const objects = this.test.filter(object => object !== undefined && object !== null);\n        for (const object of objects) {\n          const keys = Object.keys(object).map(key => key);\n          x.push(keys);\n        }\n        x.sort();\n        this.currencies = x;\n        this.showData = true;\n      });\n    }\n  },\n  mounted() {\n    this.countryData();\n    // Wait for countryDatas and currencies to be populated\n    this.$watch(() => this.countryDatas && this.currencies, () => {\n      const countryFlag = {\n        ...this.countryDatas,\n        ...this.currencies\n      };\n      this.countryFlag = countryFlag;\n      console.log(this.countryFlag.length);\n    });\n  },\n  computed: {\n    CarrencyFlag() {\n      return {\n        ...this.countryDatas,\n        ...this.currencies\n      };\n    }\n  }\n};","map":{"version":3,"names":["MainComponent","name","components","data","currency","gel","usd","eur","currencyDatas","fromName","toName","fromAmount","toAmount","showData","countryDatas","test","currencies","countryFlag","methods","currencyData","fetch","then","res","json","Object","values","result","countryData","array","key","country","push","x","objects","filter","object","undefined","keys","map","sort","mounted","$watch","console","log","length","computed","CarrencyFlag"],"sources":["/home/vakho_tsereteli/portfolio/src/Projects/CurrencyCalculator/CarencyCalculator.vue"],"sourcesContent":["<template>\n    <MainComponent/>\n    <br>\n    <div class=\"main\">\n        <h1 class=\"title\">Currency Calculator</h1>\n        <div class=\"calculator\">\n            <br>\n            <div>\n                <li>\n                    <select v-model=\"fromName\">\n                        <option v-for=\"country in CarrencyFlag\" :key=\"country\">{{ country.flag }}</option>\n                   </select>\n                    <br>\n                    <input type=\"text\" v-model=\"fromAmount\"/>\n                </li>\n                <li>\n                    <select v-model=\"toName\">\n                        <option v-for=\"currency in currencies\" :key=\"currency\">{{ currency[0] }}</option>\n                    </select>\n                    <br>\n                    <input type=\"text\" v-model=\"toAmount\"/>\n                </li>\n            </div>\n            <button @click=\"currencyData\" id=\"convert\">Convert</button>\n        </div>\n    </div>\n</template>\n\n<script>\n  import \"./CarencyCalculator.css\";\n  import MainComponent from \"../../components/Main/Main.vue\"\n\n  export default {\n    name: \"CurrencyCalculator\",\n    components: {\n      MainComponent\n    },\n    data() {\n      return {\n        currency: {\n          gel: { \"name\": \"GEL\" },\n          usd: { \"name\": \"CHF\", \"price\": 20 },\n          eur: { \"name\": \"EUR\", \"price\": 10 }\n        },\n        currencyDatas: null,\n        fromName: \"USD\",\n        toName: \"GEL\",\n        fromAmount: \"\",\n        toAmount: \"\",\n        showData: false,\n        countryDatas: null,\n        test: \"\",\n        currencies: null,\n        countryFlag: null  // Corrected spelling\n      };\n    },\n    methods: {\n      currencyData() {\n        fetch(\n          `https://api.fastforex.io/fetch-one?from=${this.fromName}&to=${this.toName}&api_key=67c030db8d-4cf9a781a1-rv2gbf`\n        )\n          .then((res) => res.json())\n          .then((data) => {\n            this.currencyDatas = data;\n\n            this.toAmount = Object.values(data.result)[0];\n\n            this.toAmount = this.fromAmount * this.toAmount;\n          });\n      },\n      countryData() {\n        fetch(\"https://restcountries.com/v3.1/all\")\n          .then((res) => res.json())\n          .then((data) => {\n            this.countryDatas = data;\n            var array = [];\n\n            for (let key in this.countryDatas) {\n              const country = this.countryDatas[key];\n              array.push(country.currencies);\n            }\n\n            this.test = array;\n\n            var x = [];\n            const objects = this.test.filter(\n              (object) => object !== undefined && object !== null\n            );\n            for (const object of objects) {\n              const keys = Object.keys(object).map((key) => key);\n              x.push(keys);\n            }\n            x.sort();\n            this.currencies = x;\n            this.showData = true;\n          });\n      },\n    },\n    mounted() {\n      this.countryData();\n      // Wait for countryDatas and currencies to be populated\n      this.$watch(\n        () => this.countryDatas && this.currencies,\n        () => {\n          const countryFlag = {\n            ...this.countryDatas,\n            ...this.currencies\n          };\n          this.countryFlag = countryFlag;\n          console.log(this.countryFlag.length);\n        }\n      );\n    },\n    computed: {\n      CarrencyFlag() {\n        return { ...this.countryDatas, ...this.currencies };\n      }\n    }\n  };\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}