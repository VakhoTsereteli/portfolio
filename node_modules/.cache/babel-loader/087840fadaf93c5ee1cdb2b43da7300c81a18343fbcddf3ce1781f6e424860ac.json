{"ast":null,"code":"import clamp from 'clamp';\nimport throttle from 'lodash.throttle';\nexport default {\n  name: 'Saturation',\n  props: {\n    value: Object\n  },\n  computed: {\n    colors() {\n      return this.value;\n    },\n    bgColor() {\n      return `hsl(${this.colors.hsv.h}, 100%, 50%)`;\n    },\n    pointerTop() {\n      return -(this.colors.hsv.v * 100) + 1 + 100 + '%';\n    },\n    pointerLeft() {\n      return this.colors.hsv.s * 100 + '%';\n    }\n  },\n  methods: {\n    throttle: throttle((fn, data) => {\n      fn(data);\n    }, 20, {\n      'leading': true,\n      'trailing': false\n    }),\n    handleChange(e, skip) {\n      !skip && e.preventDefault();\n      var container = this.$refs.container;\n      if (!container) {\n        // for some edge cases, container may not exist. see #220\n        return;\n      }\n      var containerWidth = container.clientWidth;\n      var containerHeight = container.clientHeight;\n      var xOffset = container.getBoundingClientRect().left + window.pageXOffset;\n      var yOffset = container.getBoundingClientRect().top + window.pageYOffset;\n      var pageX = e.pageX || (e.touches ? e.touches[0].pageX : 0);\n      var pageY = e.pageY || (e.touches ? e.touches[0].pageY : 0);\n      var left = clamp(pageX - xOffset, 0, containerWidth);\n      var top = clamp(pageY - yOffset, 0, containerHeight);\n      var saturation = left / containerWidth;\n      var bright = clamp(-(top / containerHeight) + 1, 0, 1);\n      this.throttle(this.onChange, {\n        h: this.colors.hsv.h,\n        s: saturation,\n        v: bright,\n        a: this.colors.hsv.a,\n        source: 'hsva'\n      });\n    },\n    onChange(param) {\n      this.$emit('change', param);\n    },\n    handleMouseDown(e) {\n      // this.handleChange(e, true)\n      window.addEventListener('mousemove', this.handleChange);\n      window.addEventListener('mouseup', this.handleChange);\n      window.addEventListener('mouseup', this.handleMouseUp);\n    },\n    handleMouseUp(e) {\n      this.unbindEventListeners();\n    },\n    unbindEventListeners() {\n      window.removeEventListener('mousemove', this.handleChange);\n      window.removeEventListener('mouseup', this.handleChange);\n      window.removeEventListener('mouseup', this.handleMouseUp);\n    }\n  }\n};","map":{"version":3,"names":["clamp","throttle","name","props","value","Object","computed","colors","bgColor","hsv","h","pointerTop","v","pointerLeft","s","methods","fn","data","handleChange","e","skip","preventDefault","container","$refs","containerWidth","clientWidth","containerHeight","clientHeight","xOffset","getBoundingClientRect","left","window","pageXOffset","yOffset","top","pageYOffset","pageX","touches","pageY","saturation","bright","onChange","a","source","param","$emit","handleMouseDown","addEventListener","handleMouseUp","unbindEventListeners","removeEventListener"],"sources":["/home/vakho_tsereteli/portfolio/node_modules/vue-color/src/components/common/Saturation.vue"],"sourcesContent":["<template>\n  <div class=\"vc-saturation\"\n    :style=\"{background: bgColor}\"\n    ref=\"container\"\n    @mousedown=\"handleMouseDown\"\n    @touchmove=\"handleChange\"\n    @touchstart=\"handleChange\">\n    <div class=\"vc-saturation--white\"></div>\n    <div class=\"vc-saturation--black\"></div>\n    <div class=\"vc-saturation-pointer\" :style=\"{top: pointerTop, left: pointerLeft}\">\n      <div class=\"vc-saturation-circle\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport clamp from 'clamp'\nimport throttle from 'lodash.throttle'\n\nexport default {\n  name: 'Saturation',\n  props: {\n    value: Object\n  },\n  computed: {\n    colors () {\n      return this.value\n    },\n    bgColor () {\n      return `hsl(${this.colors.hsv.h}, 100%, 50%)`\n    },\n    pointerTop () {\n      return (-(this.colors.hsv.v * 100) + 1) + 100 + '%'\n    },\n    pointerLeft () {\n      return this.colors.hsv.s * 100 + '%'\n    }\n  },\n  methods: {\n    throttle: throttle((fn, data) => {\n      fn(data)\n    }, 20,\n      {\n        'leading': true,\n        'trailing': false\n      }),\n    handleChange (e, skip) {\n      !skip && e.preventDefault()\n      var container = this.$refs.container\n      if (!container) {\n        // for some edge cases, container may not exist. see #220\n        return\n      }\n      var containerWidth = container.clientWidth\n      var containerHeight = container.clientHeight\n\n      var xOffset = container.getBoundingClientRect().left + window.pageXOffset\n      var yOffset = container.getBoundingClientRect().top + window.pageYOffset\n      var pageX = e.pageX || (e.touches ? e.touches[0].pageX : 0)\n      var pageY = e.pageY || (e.touches ? e.touches[0].pageY : 0)\n      var left = clamp(pageX - xOffset, 0, containerWidth)\n      var top = clamp(pageY - yOffset, 0, containerHeight)\n      var saturation = left / containerWidth\n      var bright = clamp(-(top / containerHeight) + 1, 0, 1)\n\n      this.throttle(this.onChange, {\n        h: this.colors.hsv.h,\n        s: saturation,\n        v: bright,\n        a: this.colors.hsv.a,\n        source: 'hsva'\n      })\n    },\n    onChange (param) {\n      this.$emit('change', param)\n    },\n    handleMouseDown (e) {\n      // this.handleChange(e, true)\n      window.addEventListener('mousemove', this.handleChange)\n      window.addEventListener('mouseup', this.handleChange)\n      window.addEventListener('mouseup', this.handleMouseUp)\n    },\n    handleMouseUp (e) {\n      this.unbindEventListeners()\n    },\n    unbindEventListeners () {\n      window.removeEventListener('mousemove', this.handleChange)\n      window.removeEventListener('mouseup', this.handleChange)\n      window.removeEventListener('mouseup', this.handleMouseUp)\n    }\n  }\n}\n</script>\n\n<style>\n.vc-saturation,\n.vc-saturation--white,\n.vc-saturation--black {\n  cursor: pointer;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n}\n\n.vc-saturation--white {\n  background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n}\n.vc-saturation--black {\n  background: linear-gradient(to top, #000, rgba(0,0,0,0));\n}\n.vc-saturation-pointer {\n  cursor: pointer;\n  position: absolute;\n}\n.vc-saturation-circle {\n  cursor: head;\n  width: 4px;\n  height: 4px;\n  box-shadow: 0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3), 0 0 1px 2px rgba(0,0,0,.4);\n  border-radius: 50%;\n  transform: translate(-2px, -2px);\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}