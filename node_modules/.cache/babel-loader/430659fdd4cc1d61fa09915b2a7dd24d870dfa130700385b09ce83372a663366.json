{"ast":null,"code":"export default {\n  name: 'editableInput',\n  props: {\n    label: String,\n    labelText: String,\n    desc: String,\n    value: [String, Number],\n    max: Number,\n    min: Number,\n    arrowOffset: {\n      type: Number,\n      default: 1\n    }\n  },\n  computed: {\n    val: {\n      get() {\n        return this.value;\n      },\n      set(v) {\n        // TODO: min\n        if (!(this.max === undefined) && +v > this.max) {\n          this.$refs.input.value = this.max;\n        } else {\n          return v;\n        }\n      }\n    },\n    labelId() {\n      return `input__label__${this.label}__${Math.random().toString().slice(2, 5)}`;\n    },\n    labelSpanText() {\n      return this.labelText || this.label;\n    }\n  },\n  methods: {\n    update(e) {\n      this.handleChange(e.target.value);\n    },\n    handleChange(newVal) {\n      let data = {};\n      data[this.label] = newVal;\n      if (data.hex === undefined && data['#'] === undefined) {\n        this.$emit('change', data);\n      } else if (newVal.length > 5) {\n        this.$emit('change', data);\n      }\n    },\n    // **** unused\n    // handleBlur (e) {\n    //   console.log(e)\n    // },\n    handleKeyDown(e) {\n      let val = this.val;\n      let number = Number(val);\n      if (number) {\n        let amount = this.arrowOffset || 1;\n\n        // Up\n        if (e.keyCode === 38) {\n          val = number + amount;\n          this.handleChange(val);\n          e.preventDefault();\n        }\n\n        // Down\n        if (e.keyCode === 40) {\n          val = number - amount;\n          this.handleChange(val);\n          e.preventDefault();\n        }\n      }\n    }\n    // **** unused\n    // handleDrag (e) {\n    //   console.log(e)\n    // },\n    // handleMouseDown (e) {\n    //   console.log(e)\n    // }\n  }\n};","map":{"version":3,"names":["name","props","label","String","labelText","desc","value","Number","max","min","arrowOffset","type","default","computed","val","get","set","v","undefined","$refs","input","labelId","Math","random","toString","slice","labelSpanText","methods","update","e","handleChange","target","newVal","data","hex","$emit","length","handleKeyDown","number","amount","keyCode","preventDefault"],"sources":["/home/vakho_tsereteli/portfolio/node_modules/vue-color/src/components/common/EditableInput.vue"],"sourcesContent":["<template>\n  <div class=\"vc-editable-input\">\n    <input\n      :aria-labelledby=\"labelId\"\n      class=\"vc-input__input\"\n      v-model=\"val\"\n      @keydown=\"handleKeyDown\"\n      @input=\"update\"\n      ref=\"input\"\n    >\n    <span :for=\"label\" class=\"vc-input__label\" :id=\"labelId\">{{labelSpanText}}</span>\n    <span class=\"vc-input__desc\">{{desc}}</span>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'editableInput',\n  props: {\n    label: String,\n    labelText: String,\n    desc: String,\n    value: [String, Number],\n    max: Number,\n    min: Number,\n    arrowOffset: {\n      type: Number,\n      default: 1\n    }\n  },\n  computed: {\n    val: {\n      get () {\n        return this.value\n      },\n      set (v) {\n        // TODO: min\n        if (!(this.max === undefined) && +v > this.max) {\n          this.$refs.input.value = this.max\n        } else {\n          return v\n        }\n      }\n    },\n    labelId () {\n      return `input__label__${this.label}__${Math.random().toString().slice(2, 5)}`\n    },\n    labelSpanText () {\n      return this.labelText || this.label\n    }\n  },\n  methods: {\n    update (e) {\n      this.handleChange(e.target.value)\n    },\n    handleChange (newVal) {\n      let data = {}\n      data[this.label] = newVal\n      if (data.hex === undefined && data['#'] === undefined) {\n        this.$emit('change', data)\n      } else if (newVal.length > 5) {\n        this.$emit('change', data)\n      }\n    },\n    // **** unused\n    // handleBlur (e) {\n    //   console.log(e)\n    // },\n    handleKeyDown (e) {\n      let val = this.val\n      let number = Number(val)\n\n      if (number) {\n        let amount = this.arrowOffset || 1\n\n        // Up\n        if (e.keyCode === 38) {\n          val = number + amount\n          this.handleChange(val)\n          e.preventDefault()\n        }\n\n        // Down\n        if (e.keyCode === 40) {\n          val = number - amount\n          this.handleChange(val)\n          e.preventDefault()\n        }\n      }\n    }\n    // **** unused\n    // handleDrag (e) {\n    //   console.log(e)\n    // },\n    // handleMouseDown (e) {\n    //   console.log(e)\n    // }\n  }\n}\n</script>\n\n<style>\n.vc-editable-input {\n  position: relative;\n}\n.vc-input__input {\n  padding: 0;\n  border: 0;\n  outline: none;\n}\n.vc-input__label {\n  text-transform: capitalize;\n}\n</style>\n"],"mappings":"AAgBA,eAAe;EACbA,IAAI,EAAE,eAAe;EACrBC,KAAK,EAAE;IACLC,KAAK,EAAEC,MAAM;IACbC,SAAS,EAAED,MAAM;IACjBE,IAAI,EAAEF,MAAM;IACZG,KAAK,EAAE,CAACH,MAAM,EAAEI,MAAM,CAAC;IACvBC,GAAG,EAAED,MAAM;IACXE,GAAG,EAAEF,MAAM;IACXG,WAAW,EAAE;MACXC,IAAI,EAAEJ,MAAM;MACZK,OAAO,EAAE;IACX;EACF,CAAC;EACDC,QAAQ,EAAE;IACRC,GAAG,EAAE;MACHC,GAAEA,CAAA,EAAK;QACL,OAAO,IAAI,CAACT,KAAI;MAClB,CAAC;MACDU,GAAEA,CAAGC,CAAC,EAAE;QACN;QACA,IAAI,EAAE,IAAI,CAACT,GAAE,KAAMU,SAAS,KAAK,CAACD,CAAA,GAAI,IAAI,CAACT,GAAG,EAAE;UAC9C,IAAI,CAACW,KAAK,CAACC,KAAK,CAACd,KAAI,GAAI,IAAI,CAACE,GAAE;QAClC,OAAO;UACL,OAAOS,CAAA;QACT;MACF;IACF,CAAC;IACDI,OAAMA,CAAA,EAAK;MACT,OAAQ,iBAAgB,IAAI,CAACnB,KAAM,KAAIoB,IAAI,CAACC,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAE;IAC9E,CAAC;IACDC,aAAYA,CAAA,EAAK;MACf,OAAO,IAAI,CAACtB,SAAQ,IAAK,IAAI,CAACF,KAAI;IACpC;EACF,CAAC;EACDyB,OAAO,EAAE;IACPC,MAAKA,CAAGC,CAAC,EAAE;MACT,IAAI,CAACC,YAAY,CAACD,CAAC,CAACE,MAAM,CAACzB,KAAK;IAClC,CAAC;IACDwB,YAAWA,CAAGE,MAAM,EAAE;MACpB,IAAIC,IAAG,GAAI,CAAC;MACZA,IAAI,CAAC,IAAI,CAAC/B,KAAK,IAAI8B,MAAK;MACxB,IAAIC,IAAI,CAACC,GAAE,KAAMhB,SAAQ,IAAKe,IAAI,CAAC,GAAG,MAAMf,SAAS,EAAE;QACrD,IAAI,CAACiB,KAAK,CAAC,QAAQ,EAAEF,IAAI;MAC3B,OAAO,IAAID,MAAM,CAACI,MAAK,GAAI,CAAC,EAAE;QAC5B,IAAI,CAACD,KAAK,CAAC,QAAQ,EAAEF,IAAI;MAC3B;IACF,CAAC;IACD;IACA;IACA;IACA;IACAI,aAAYA,CAAGR,CAAC,EAAE;MAChB,IAAIf,GAAE,GAAI,IAAI,CAACA,GAAE;MACjB,IAAIwB,MAAK,GAAI/B,MAAM,CAACO,GAAG;MAEvB,IAAIwB,MAAM,EAAE;QACV,IAAIC,MAAK,GAAI,IAAI,CAAC7B,WAAU,IAAK;;QAEjC;QACA,IAAImB,CAAC,CAACW,OAAM,KAAM,EAAE,EAAE;UACpB1B,GAAE,GAAIwB,MAAK,GAAIC,MAAK;UACpB,IAAI,CAACT,YAAY,CAAChB,GAAG;UACrBe,CAAC,CAACY,cAAc,CAAC;QACnB;;QAEA;QACA,IAAIZ,CAAC,CAACW,OAAM,KAAM,EAAE,EAAE;UACpB1B,GAAE,GAAIwB,MAAK,GAAIC,MAAK;UACpB,IAAI,CAACT,YAAY,CAAChB,GAAG;UACrBe,CAAC,CAACY,cAAc,CAAC;QACnB;MACF;IACF;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}